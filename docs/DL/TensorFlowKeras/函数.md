## tf.gather/ tf.gather_nd 

如果是只取某一维中单个索引的数据可以直接写成`tensor[:, 2]`, 但如果要提取的索引不连续的话，在tensorflow里面的用法就要用到tf.gather. 

```python
a = np.random.random((5, 4))
# 把矩阵a中的0,2,4行取
indices = np.array([0, 2, 4])

print(a)
#array([[0.47122875, 0.37836802, 0.18210801, 0.341471  ],
#      [0.56551837, 0.27328607, 0.50911876, 0.01179739],
#       [0.75350208, 0.9967817 , 0.94043434, 0.15640884],
#      [0.09511502, 0.96345098, 0.6500849 , 0.04084285],
#       [0.93815553, 0.04821088, 0.10792035, 0.27093746]])
print(a[indices])
#array([[0.47122875, 0.37836802, 0.18210801, 0.341471  ],
#      [0.75350208, 0.9967817 , 0.94043434, 0.15640884],
#       [0.93815553, 0.04821088, 0.10792035, 0.27093746]])
```

```python
import tensorflow as tf
sess = tf.Session()
b = tf.gather(tf.constant(a), indices)                                                               
sess.run(b)                                                                                           
# Output
array([[0.47122875, 0.37836802, 0.18210801, 0.341471  ],
       [0.75350208, 0.9967817 , 0.94043434, 0.15640884],
       [0.93815553, 0.04821088, 0.10792035, 0.27093746]])
```

 tf.gather_nd允许在多维上进行索引:
matrix中直接通过坐标取数（索引维度与tensor维度相同）: 

```python
indices = [[0, 0], [1, 1]]
params = [['a', 'b'], ['c', 'd']]
output = ['a', 'd']
```

在R3Det模型的FRM模块中，候选框的5个点对应位置特征就是使用 `tf.gather_nd`取出的。

