CUDA_LAUNCH_BLOCKING

 `CUDA_LAUNCH_BLOCKING=1 python main.py`来捕获GPU上的错误 

gpu的异步功能可以让代码运行的更快，不过可能会让一些错误在它们本应该出现的地方延迟抛出异常，导致当分析困难。这里有一个 NVIDIA 驱动特性有助于解决这些问题。如果你将环境变量设置成CUDA_LAUNCH_BLOCKING=1 那么，**所有的kernel调用都会自动同步的**。这会降低性能，不过却提供很好的profiling和合理的位置错误信息。  

https://blog.csdn.net/u013187057/article/details/83069227

![image-20191211173209656](../../assets/image-20191211173209656.png)

注意添加此环境变量会导致GPU利用率降低，而且可能导致学习效果变差。

被这句话坑惨了，一直在寻找导致GPU利用率下降的原因，把代码修改的地方均仔细看了好几遍，结果是IDE里面的设置导致的。建议不要在IDE里面设置！！！使用命令行手工键入此环境变量运行打印GPU运行过程错误，防止添加后忘记去除。我甚至都怀疑显卡老化了，但是明明是才买了几个月的卡！