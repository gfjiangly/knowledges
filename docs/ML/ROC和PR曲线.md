![https://img3.sycdn.imooc.com/5b5d2c0a00017a4505190353.jpg](assets/ROC%E5%92%8CPR%E6%9B%B2%E7%BA%BF/5b5d2c0a00017a4505000341.jpg)

ROC曲线常用于二分类问题中的模型比较，主要表现为一种真正例率 (TPR) 和假正例率 (FPR) 的权衡。具体方法是在不同的分类阈值 (threshold) 设定下分别以TPR和FPR为纵、横轴作图。由ROC曲线的两个指标，

```
TPR = TP / P = TP / (TP+FN) = Recall
FPR = FP / N = FP / (FP+TN)
```

![https://img1.sycdn.imooc.com/5b5d2c310001fbfe07670374.jpg](assets/ROC%E5%92%8CPR%E6%9B%B2%E7%BA%BF/5b5d2c310001fbfe05000244.jpg)

可以看出，当一个样本被分类器判为正例，若其本身是正例，则TPR增加；若其本身是负例，则FPR增加，因此ROC曲线可以看作是随着阈值的不断移动，所有样本中正例与负例之间的“对抗”。曲线越靠近左上角，意味着越多的正例优先于负例，模型的整体表现也就越好。先看一下ROC曲线中的随机线，图中[0,0]到[1,1]的虚线即为随机线，该线上所有的点都表示该阈值下TPR=FPR，根据定义，表示所有正例中被预测为正例的概率；

![https://img3.sycdn.imooc.com/5b5d2c1300012dc904720472.jpg](assets/ROC%E5%92%8CPR%E6%9B%B2%E7%BA%BF/5b5d2c1300012dc904720472.jpg)

在类别不平衡的背景下，负例的数目众多致使FPR的增长不明显（分母大），导致ROC曲线呈现一个过分乐观的效果估计。ROC曲线的横轴采用FPR，根据FPR = FP / N = FP / (FP+TN)，当负例N的数量远超正例P时，FP的大幅增长只能换来FPR的微小改变。结果是虽然大量负例被错判成正例，在ROC曲线上却无法直观地看出来。（当然也可以只分析ROC曲线左边一小段）

举个例子，假设一个数据集有正例20，负例10000，开始时有20个负例被错判，FPR = 20 / (20 + 9980) = 0.002，接着又有20个负例错判，FPR2 = 40 / (40+9960) = 0.004，在ROC曲线上这个变化是很细微的。而与此同时Precision则从原来的0.5下降到了0.33，在PR曲线上将会是一个大幅下降。PR曲线展示的是Precision vs Recall的曲线，PR曲线与ROC曲线的相同点是都采用了TPR (Recall)，都可以用AUC来衡量分类器的效果。不同点是ROC曲线使用了FPR，而PR曲线使用了Precision，因此PR曲线的两个指标都聚焦于正例。类别不平衡问题中由于主要关心正例，所以在此情况下PR曲线被广泛认为优于ROC曲线。

