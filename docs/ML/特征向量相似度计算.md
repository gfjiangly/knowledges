## 欧氏距离

![image-20200827203400166](assets/%E7%89%B9%E5%BE%81%E5%90%91%E9%87%8F%E7%9B%B8%E4%BC%BC%E5%BA%A6%E8%AE%A1%E7%AE%97/image-20200827203400166.png)



## 余弦相似度

![image-20200223001734831](assets/%E7%89%B9%E5%BE%81%E5%90%91%E9%87%8F%E7%9B%B8%E4%BC%BC%E5%BA%A6%E8%AE%A1%E7%AE%97/image-20200223001734831.png)

 即两个向量间夹角的余弦值。[-1, 1]，相同时为1，正交时为0，相反时为-1。

因为余弦值的范围是 [-1, 1] ，相似度计算时一般需要把值归一化到 [0,1]，一般通过如下方式：

**sim = 0.5 + 0.5 \* cosθ**

余弦相似度可用在任何维度的向量比较中，因此在`高维空间`中被广泛应用。过程如下：

1. 计算每类样本中的特征向量（类别特征）
2. 对未知分类的图像计算其样本特征
3. 计算两个响亮的余弦相似度
4. 选择余弦相似度最大的类别作为未知图像对应的类别或将大于阈值的多个类别作为结果。

**当一对文本相似度的长度差距很大、但内容相近时，如果使用词频或词向量作为特征，它们在特征空间中的的欧氏距离通常很大**；**而如果使用余弦相似度的话，它们之间的夹角可能很小，因而相似度高**。



## 余弦距离和欧氏距离的关系

结论：**归一化后的向量的余弦距离和欧氏距离是等价的**！

![image-20200827203803813](assets/%E7%89%B9%E5%BE%81%E5%90%91%E9%87%8F%E7%9B%B8%E4%BC%BC%E5%BA%A6%E8%AE%A1%E7%AE%97/image-20200827203803813.png)

我们将cos(A,B)称为余弦相似度，1−cos(A,B)称为余弦距离，可以看到余弦距离和cos距离是等价的。推广到高维空间可以得到一样的结论。现在的人脸识别方法中，会对特征做归一化，归一化后特征的余弦距离和cos距离是等价的，所以使用哪个距离都是OK的。



## 什么时候用余弦距离，什么时候用欧式距离呢？

总体来说，欧氏距离体现数值上的绝对差异，而余弦距离体现方向上的相对差异。

1）例如，统计两部剧的用户观看行为，用户A的观看向量为(0,1)，用户B为(1,0)；此时二者的余弦距很大，而欧氏距离很小；我们分析两个用户对于不同视频的偏好，更关注相对差异，显然应当使用余弦距离。

2）而当我们分析用户活跃度，以登陆次数(单位：次)和平均观看时长(单：分钟)作为特征时，余弦距离会认为(1,10)、(10,100)两个用户距离很近；但显然这两个用户活跃度是有着极大差异的，此时我们更关注数值绝对差异，应当使用欧氏距离。

总结：在日常使用中需要注意区分，余弦距离虽然不是一个严格意义上的距离度量公式，但是形容两个特征向量之间的关系还是有很大用处的。比如人脸识别，推荐系统等。



## 明氏距离

![image-20200223001400962](assets/%E7%89%B9%E5%BE%81%E5%90%91%E9%87%8F%E7%9B%B8%E4%BC%BC%E5%BA%A6%E8%AE%A1%E7%AE%97/image-20200223001400962.png)



## 参考

- https://www.cnblogs.com/makefile/p/feature-similarity.html

