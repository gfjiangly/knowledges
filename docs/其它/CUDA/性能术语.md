### 内存带宽

多数内核对带宽敏感，也就是说，工产机械生产效率特别高，而原料来的很慢，这限制了生产速度。GPU内存中数据的安排方式和线程束的访问方式都对带宽有显著影响。一般有如下两种带宽

- 理论带宽
- 有效带宽 

理论带宽就是硬件设计的绝对最大值，硬件限制了这个最大值为多少，比如对于不使用ECC的Fermi M2090来说，理论峰值 117.6 GB/s。

有效带宽是核函数实际达到的带宽，是测量带宽，可以用下面公式计算:

![image-20200210200206174](../../assets/image-20200210200206174.png)

单位是GB/s

举例：转置一个2^12(4096) x 2^12(4096)大小的矩阵耗时0.002s，矩阵元素为单精度浮点型，有效带宽为多少？

```
有效带宽 = (2^12 x 2^12 x 4B x 2(R/W) x 10e-9) / 0.002 = 67.1 GB/s
```

理论带宽一般在产品参数中有说明，下图的1050Ti的理论带宽为112GB/s

 ![4-4-5](https://tony4ai-1251394096.cos.ap-hongkong.myqcloud.com/blog_images/CUDA-F-4-4-%E6%A0%B8%E5%87%BD%E6%95%B0%E5%8F%AF%E8%BE%BE%E5%88%B0%E7%9A%84%E5%B8%A6%E5%AE%BD/4-4-5.png) 

带宽指单位时间从全局内存(片外内存)读写带SM中的数据量，全局内存是没有缓存的。

### 计算吞吐量

每秒多少十亿次浮点运算，单位为gfloats。衡量核心计算效率。

注意吞吐量和带宽的区别，有效吞吐量不止和有效带宽有关，还和带宽的利用率等因素有关。最主要的还是设备的运算核心。当然，也有内存吞吐量这种说法这种说法就是单位时间上内存访问的总量，用单位 GB/s 表示，这个值越大表示读取到的数据越多，但是这些数据不一定是有用的。

可在 profiler 的报告中看到。