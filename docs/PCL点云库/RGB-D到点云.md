深度相机可以获取彩色图和深度图。

实际Kinect里（或其他rgb-d相机里）直接采到的RGB图和深度图可能会有些小问题

- 有一些时差（约几到十几个毫秒）。这个时差的存在，会产生“RGB图已经向右转了，怎么深度图还没转”的感觉
- 光圈中心未对齐。因为深度毕竟是靠另一个相机获取的，所以深度传感器和彩色传感器参数可能不一致
- 深度图里有很多“洞”。因为RGB-D相机不是万能的，它有一个探测距离的限制啦！太远或太近的东西都是看不见的呢。（还有反射率问题，黑色物体吸收光，相机看不见）
- 关于这些“洞”，我们暂时睁一只眼闭一只眼，不去理它。以后我们也可以靠双边bayes滤波器去填这些洞。
- 但是！这是RGB-D相机本身的局限性。软件算法顶多给它修修补补，并不能完全弥补它的缺陷



从深度图到点云图
----------------------------


![2019-08-13_130706](E:\knowledges\assets\2019-08-13_130706.png)

![点云与RGB-D关系](http://images.ncnynl.com/ros/2016/20170122211435.png)

从公式上看计算xyz点云仅需要深度图和相机内参，从深度图到世界坐标系的点云图是需要进行相机的标定的最重要原因。



为什么要进行RGB图与深度图对齐？
-----------------------------------------------

这是因为两个图是有不同相机得到的，两者的坐标系不同，因此会有一些不重合（深度相机（可以是两个IR相机计算得到）与RGB相机离得越近，越重合）。只有得到相机的内外参才能将RGB图与深度图对齐。

这也是需要进行相机标定的重要原因。



相机出厂时内外参数已标定好，写进flash，不会改变。



见文档：http://www.orbbec.com.cn/download/sdk/02%E4%B8%AD%E7%BA%A7%E8%B5%84%E6%96%99/Astra%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A.docx